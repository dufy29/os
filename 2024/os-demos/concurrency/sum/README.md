**并发 1 + 1**：如果两个线程，每个线程都执行 `N` 次 `sum++`，最终会得到什么结果？即便我们强制使用一条汇编指令完成 `sum++`，依然无法保证最终得到 `2N` 的结果。在共享内存上实现并发控制是一个相当困难的问题。


~~~

-O2, sum ++
0000000000001260 <T_sum>:
    1260:       f3 0f 1e fa             endbr64
    1264:       48 81 05 d1 2d 00 00    addq   $0x5f5e100,0x2dd1(%rip)        # 4040 <sum>
    126b:       00 e1 f5 05
    126f:       c3        

~~~